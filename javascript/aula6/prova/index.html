<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // Lista de tarefas
let tarefas = [];

// -----------------------------------------------------------
// 1. Função Anônima para adicionar tarefas
// -----------------------------------------------------------
let adicionarTarefa = function (tarefa) {
    tarefas.push({ descricao: tarefa, concluida: false });
    console.log(`Tarefa adicionada: "${tarefa}"`);
};

// -----------------------------------------------------------
// 2. Arrow Function para listar tarefas
// -----------------------------------------------------------
const listarTarefas = () => {
    console.log("===== LISTA DE TAREFAS =====");
    tarefas.forEach((tarefa, index) => {
        console.log(`${index} - ${tarefa.descricao} | Concluída: ${tarefa.concluida}`);
    });
    console.log("============================");
};

// -----------------------------------------------------------
// 3. Função com Callback para executar ações na lista
// -----------------------------------------------------------
function gerenciarTarefas(callback) {
    callback(tarefas);
}

// -----------------------------------------------------------
// 4. Loop de interação com o usuário
// -----------------------------------------------------------
let opcao;

do {
    opcao = prompt(
        "Escolha uma ação:\n" +
        "1 - Adicionar tarefa\n" +
        "2 - Listar tarefas\n" +
        "3 - Remover tarefa\n" +
        "4 - Atualizar tarefa\n" +
        "5 - Concluir tarefa\n" +
        "0 - Sair"
    );

    switch (opcao) {

        case "1": // Adicionar
            let novaTarefa = prompt("Digite a nova tarefa:");
            adicionarTarefa(novaTarefa);
            break;

        case "2": // Listar
            listarTarefas();
            break;

        case "3": // Remover
            gerenciarTarefas(() => {
                let indexRemover = prompt("Digite o índice da tarefa para remover:");
                if (tarefas[indexRemover]) {
                    console.log(`Tarefa removida: ${tarefas[indexRemover].descricao}`);
                    tarefas.splice(indexRemover, 1);
                } else {
                    console.log("Índice inválido!");
                }
            });
            break;

        case "4": // Atualizar
            gerenciarTarefas(() => {
                let indexAtualizar = prompt("Índice da tarefa:");
                if (tarefas[indexAtualizar]) {
                    let novoTexto = prompt("Nova descrição:");
                    tarefas[indexAtualizar].descricao = novoTexto;
                    console.log("Tarefa atualizada com sucesso!");
                } else {
                    console.log("Índice inválido!");
                }
            });
            break;

        case "5": // Concluir
            gerenciarTarefas(() => {
                let indexConcluir = prompt("Índice da tarefa para concluir:");
                if (tarefas[indexConcluir]) {
                    tarefas[indexConcluir].concluida = true;
                    console.log("Tarefa marcada como concluída!");
                } else {
                    console.log("Índice inválido!");
                }
            });
            break;

        case "0":
            console.log("Encerrando programa...");
            break;

        default:
            console.log("Opção inválida! Tente novamente.");
    }

} while (opcao !== "0");

    </script>
    
</body>
</html>